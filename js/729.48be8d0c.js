"use strict";(self["webpackChunksanyue_imghub"]=self["webpackChunksanyue_imghub"]||[]).push([[729],{7562:function(e,t,s){s.d(t,{A:function(){return h}});var n=s(6768),a=s(4232);const i={class:"page-footer"},o=["href"];function r(e,t,s,r,l,c){const g=(0,n.g2)("font-awesome-icon");return(0,n.uX)(),(0,n.CE)("div",i,[(0,n.Lk)("p",null,[(0,n.eW)("© 2024-"+(0,a.v_)(c.thisYear)+" Designed by ",1),t[0]||(t[0]=(0,n.Lk)("a",{class:"footer-name",href:"https://github.com/MarSeventh",target:"_blank"},"SanyueQi",-1)),t[1]||(t[1]=(0,n.eW)(" for You! ")),(0,n.Lk)("a",{href:c.footerLink,target:"_blank"},[(0,n.bF)(g,{icon:"paper-plane",class:"footer-link-icon"})],8,o)])])}var l=s(782),c={name:"Footer",computed:{...(0,l.L8)(["userConfig"]),footerLink(){return this.userConfig?.footerLink||"https://github.com/MarSeventh/CloudFlare-ImgBed"},thisYear(){return(new Date).getFullYear()}}},g=s(1241);const u=(0,g.A)(c,[["render",r],["__scopeId","data-v-18e6a8ce"]]);var h=u},3729:function(e,t,s){s.r(t),s.d(t,{default:function(){return f}});var n=s(7562),a=s(47),i=(s(5331),s(9648),s(2105)),o=(s(9092),s(6768)),r=s(4232),l=s(5130);const c={class:"login"},g={class:"login-container"};function u(e,t,s,u,h,p){const d=i.WK,m=a.S2,k=n.A;return(0,o.uX)(),(0,o.CE)("div",c,[t[2]||(t[2]=(0,o.Lk)("img",{id:"bg1",class:"background-image1",alt:"Background Image"},null,-1)),t[3]||(t[3]=(0,o.Lk)("img",{id:"bg2",class:"background-image2",alt:"Background Image"},null,-1)),(0,o.Lk)("div",g,[(0,o.Lk)("h1",null,(0,r.v_)(p.ownerName)+" ImgHub",1),(0,o.bF)(d,{class:"password-input",modelValue:h.password,"onUpdate:modelValue":t[0]||(t[0]=e=>h.password=e),placeholder:"输入认证码，若未设置留空即可~",type:"password","show-password":"",onKeyup:(0,l.jR)(p.login,["enter","native"])},null,8,["modelValue","onKeyup"]),(0,o.bF)(m,{class:"submit",type:"primary",onClick:p.login},{default:(0,o.k6)((()=>t[1]||(t[1]=[(0,o.eW)("登录")]))),_:1},8,["onClick"])]),(0,o.bF)(k,{class:"footer"})])}s(4114);var h=s(4570),p=s.n(h),d=s(4373),m=s(782),k={data(){return{password:"",writtenPass:"",bingWallPaperIndex:0,customWallPaperIndex:0}},computed:{...(0,m.L8)(["userConfig","bingWallPapers"]),bkInterval(){return this.userConfig?.bkInterval||3e3},bkOpacity(){return this.userConfig?.bkOpacity||1},ownerName(){return this.userConfig?.ownerName||"Sanyue"}},components:{Footer:n.A},mounted(){const e=document.getElementById("bg1"),t=document.getElementById("bg2");"bing"===this.userConfig?.loginBkImg?this.$store.dispatch("fetchBingWallPapers").then((()=>{e.src=this.bingWallPapers[this.bingWallPaperIndex]?.url,e.onload=()=>{e.style.opacity=this.bkOpacity},setInterval((()=>{let s=0!=e.style.opacity?e:t,n=0!=e.style.opacity?t:e;s.style.opacity=0,this.bingWallPaperIndex=(this.bingWallPaperIndex+1)%this.bingWallPapers.length,n.src=this.bingWallPapers[this.bingWallPaperIndex]?.url,n.onload=()=>{n.style.opacity=this.bkOpacity}}),this.bkInterval)})):this.userConfig?.loginBkImg instanceof Array&&this.userConfig?.loginBkImg?.length>1?(e.src=this.userConfig.loginBkImg[this.customWallPaperIndex],e.onload=()=>{e.style.opacity=this.bkOpacity},setInterval((()=>{let s=0!=e.style.opacity?e:t,n=0!=e.style.opacity?t:e;s.style.opacity=0,this.customWallPaperIndex=(this.customWallPaperIndex+1)%this.userConfig.loginBkImg.length,n.src=this.userConfig.loginBkImg[this.customWallPaperIndex],n.onload=()=>{n.style.opacity=this.bkOpacity}}),this.bkInterval)):this.userConfig?.loginBkImg instanceof Array&&1==this.userConfig?.loginBkImg?.length?(e.src=this.userConfig.loginBkImg[0],e.onload=()=>{e.style.opacity=this.bkOpacity}):(e.src=s(732),e.onload=()=>{e.style.opacity=this.bkOpacity})},methods:{login(){""===this.password?this.writtenPass="unset":this.writtenPass=this.password,d.A.post("/api/login",{authCode:this.password}).then((e=>{200===e.status?(p().set("authCode",this.writtenPass,"14d"),this.$router.push("/"),this.$message.success("登录成功~")):this.$message.error("登录失败，请检查认证码是否正确~")})).catch((e=>{this.$message.error("登录失败，请检查认证码是否正确~")}))}}},y=s(1241);const b=(0,y.A)(k,[["render",u],["__scopeId","data-v-a39e3d6c"]]);var f=b},732:function(e,t,s){e.exports=s.p+"img/background.ea1b7ee7.jpg"}}]);
//# sourceMappingURL=729.48be8d0c.js.map