{"version":3,"file":"js/729.48be8d0c.js","mappings":"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","sources":["webpack://sanyue_imghub/./src/components/Footer.vue?589b","webpack://sanyue_imghub/./src/components/Footer.vue","webpack://sanyue_imghub/./src/components/Footer.vue?d468","webpack://sanyue_imghub/./src/views/Login.vue?8e41","webpack://sanyue_imghub/./src/views/Login.vue","webpack://sanyue_imghub/./src/views/Login.vue?2b97"],"sourcesContent":["import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"page-footer\"\n};\nconst _hoisted_2 = [\"href\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"p\", null, [_createTextVNode(\"© 2024-\" + _toDisplayString($options.thisYear) + \" Designed by \", 1), _cache[0] || (_cache[0] = _createElementVNode(\"a\", {\n    class: \"footer-name\",\n    href: \"https://github.com/MarSeventh\",\n    target: \"_blank\"\n  }, \"SanyueQi\", -1)), _cache[1] || (_cache[1] = _createTextVNode(\" for You! \")), _createElementVNode(\"a\", {\n    href: $options.footerLink,\n    target: \"_blank\"\n  }, [_createVNode(_component_font_awesome_icon, {\n    icon: \"paper-plane\",\n    class: \"footer-link-icon\"\n  })], 8, _hoisted_2)])]);\n}","import { mapGetters } from 'vuex';\nexport default {\n  name: 'Footer',\n  computed: {\n    ...mapGetters(['userConfig']),\n    footerLink() {\n      return this.userConfig?.footerLink || 'https://github.com/MarSeventh/CloudFlare-ImgBed';\n    },\n    thisYear() {\n      return new Date().getFullYear();\n    }\n  }\n};","/* unplugin-vue-components disabled */import { render } from \"./Footer.vue?vue&type=template&id=18e6a8ce&scoped=true\"\nimport script from \"./Footer.vue?vue&type=script&lang=js\"\nexport * from \"./Footer.vue?vue&type=script&lang=js\"\n\nimport \"./Footer.vue?vue&type=style&index=0&id=18e6a8ce&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-18e6a8ce\"]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, withKeys as _withKeys, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"login\"\n};\nconst _hoisted_2 = {\n  class: \"login-container\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_Footer = _resolveComponent(\"Footer\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[2] || (_cache[2] = _createElementVNode(\"img\", {\n    id: \"bg1\",\n    class: \"background-image1\",\n    alt: \"Background Image\"\n  }, null, -1)), _cache[3] || (_cache[3] = _createElementVNode(\"img\", {\n    id: \"bg2\",\n    class: \"background-image2\",\n    alt: \"Background Image\"\n  }, null, -1)), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"h1\", null, _toDisplayString($options.ownerName) + \" ImgHub\", 1), _createVNode(_component_el_input, {\n    class: \"password-input\",\n    modelValue: $data.password,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.password = $event),\n    placeholder: \"输入认证码，若未设置留空即可~\",\n    type: \"password\",\n    \"show-password\": \"\",\n    onKeyup: _withKeys($options.login, [\"enter\", \"native\"])\n  }, null, 8, [\"modelValue\", \"onKeyup\"]), _createVNode(_component_el_button, {\n    class: \"submit\",\n    type: \"primary\",\n    onClick: $options.login\n  }, {\n    default: _withCtx(() => _cache[1] || (_cache[1] = [_createTextVNode(\"登录\")])),\n    _: 1\n  }, 8, [\"onClick\"])]), _createVNode(_component_Footer, {\n    class: \"footer\"\n  })]);\n}","import \"core-js/modules/es.array.push.js\";\nimport cookies from 'vue-cookies';\nimport axios from 'axios';\nimport { mapGetters } from 'vuex';\nimport Footer from '@/components/Footer.vue';\nexport default {\n  data() {\n    return {\n      password: '',\n      writtenPass: '',\n      bingWallPaperIndex: 0,\n      customWallPaperIndex: 0\n    };\n  },\n  computed: {\n    ...mapGetters(['userConfig', 'bingWallPapers']),\n    bkInterval() {\n      return this.userConfig?.bkInterval || 3000;\n    },\n    bkOpacity() {\n      return this.userConfig?.bkOpacity || 1;\n    },\n    ownerName() {\n      return this.userConfig?.ownerName || 'Sanyue';\n    }\n  },\n  components: {\n    Footer\n  },\n  mounted() {\n    const bg1 = document.getElementById('bg1');\n    const bg2 = document.getElementById('bg2');\n    if (this.userConfig?.loginBkImg === 'bing') {\n      //bing壁纸轮播\n      this.$store.dispatch('fetchBingWallPapers').then(() => {\n        bg1.src = this.bingWallPapers[this.bingWallPaperIndex]?.url;\n        bg1.onload = () => {\n          bg1.style.opacity = this.bkOpacity;\n        };\n        setInterval(() => {\n          let curBg = bg1.style.opacity != 0 ? bg1 : bg2;\n          let nextBg = bg1.style.opacity != 0 ? bg2 : bg1;\n          curBg.style.opacity = 0;\n          this.bingWallPaperIndex = (this.bingWallPaperIndex + 1) % this.bingWallPapers.length;\n          nextBg.src = this.bingWallPapers[this.bingWallPaperIndex]?.url;\n          nextBg.onload = () => {\n            nextBg.style.opacity = this.bkOpacity;\n          };\n        }, this.bkInterval);\n      });\n    } else if (this.userConfig?.loginBkImg instanceof Array && this.userConfig?.loginBkImg?.length > 1) {\n      //自定义壁纸组轮播\n      bg1.src = this.userConfig.loginBkImg[this.customWallPaperIndex];\n      bg1.onload = () => {\n        bg1.style.opacity = this.bkOpacity;\n      };\n      setInterval(() => {\n        let curBg = bg1.style.opacity != 0 ? bg1 : bg2;\n        let nextBg = bg1.style.opacity != 0 ? bg2 : bg1;\n        curBg.style.opacity = 0;\n        this.customWallPaperIndex = (this.customWallPaperIndex + 1) % this.userConfig.loginBkImg.length;\n        nextBg.src = this.userConfig.loginBkImg[this.customWallPaperIndex];\n        nextBg.onload = () => {\n          nextBg.style.opacity = this.bkOpacity;\n        };\n      }, this.bkInterval);\n    } else if (this.userConfig?.loginBkImg instanceof Array && this.userConfig?.loginBkImg?.length == 1) {\n      //单张自定义壁纸\n      bg1.src = this.userConfig.loginBkImg[0];\n      bg1.onload = () => {\n        bg1.style.opacity = this.bkOpacity;\n      };\n    } else {\n      //默认壁纸\n      bg1.src = require('@/assets/background.jpg');\n      bg1.onload = () => {\n        bg1.style.opacity = this.bkOpacity;\n      };\n    }\n  },\n  methods: {\n    login() {\n      // set authCode to Cookie, expires in 2 weeks\n      if (this.password === '') {\n        this.writtenPass = 'unset';\n      } else {\n        this.writtenPass = this.password;\n      }\n      axios.post('/api/login', {\n        authCode: this.password\n      }).then(res => {\n        if (res.status !== 200) {\n          this.$message.error('登录失败，请检查认证码是否正确~');\n          return;\n        }\n        cookies.set('authCode', this.writtenPass, '14d');\n        this.$router.push('/');\n        this.$message.success('登录成功~');\n      }).catch(err => {\n        this.$message.error('登录失败，请检查认证码是否正确~');\n      });\n    }\n  }\n};","/* unplugin-vue-components disabled */import { render } from \"./Login.vue?vue&type=template&id=a39e3d6c&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=a39e3d6c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-a39e3d6c\"]])\n\nexport default __exports__"],"names":["_hoisted_1","class","_hoisted_2","render","_ctx","_cache","$props","$setup","$data","$options","_component_font_awesome_icon","thisYear","href","target","footerLink","icon","name","computed","this","userConfig","Date","getFullYear","__exports__","_component_el_input","_component_el_button","_component_Footer","id","alt","ownerName","modelValue","password","$event","placeholder","type","onKeyup","login","onClick","default","_","data","writtenPass","bingWallPaperIndex","customWallPaperIndex","bkInterval","bkOpacity","components","Footer","mounted","bg1","document","getElementById","bg2","loginBkImg","$store","dispatch","then","src","bingWallPapers","url","onload","style","opacity","setInterval","curBg","nextBg","length","Array","methods","axios","post","authCode","res","status","$router","push","$message","success","error","catch","err"],"sourceRoot":""}