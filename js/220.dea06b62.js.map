{"version":3,"file":"js/220.dea06b62.js","mappings":"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","sources":["webpack://sanyue_imghub/./src/views/CustomerConfig.vue?f932","webpack://sanyue_imghub/./src/views/CustomerConfig.vue","webpack://sanyue_imghub/./src/views/CustomerConfig.vue?658e"],"sourcesContent":["import { resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, createElementVNode as _createElementVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = {\n  class: \"header-content\"\n};\nconst _hoisted_3 = {\n  class: \"tabs\"\n};\nconst _hoisted_4 = {\n  class: \"tabs-dropdown-link\"\n};\nconst _hoisted_5 = {\n  class: \"header-action\"\n};\nconst _hoisted_6 = {\n  class: \"main-container\"\n};\nconst _hoisted_7 = {\n  style: {\n    \"margin\": \"8px\"\n  }\n};\nconst _hoisted_8 = [\"src\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\");\n  const _component_el_dropdown_item = _resolveComponent(\"el-dropdown-item\");\n  const _component_el_dropdown_menu = _resolveComponent(\"el-dropdown-menu\");\n  const _component_el_dropdown = _resolveComponent(\"el-dropdown\");\n  const _component_el_tooltip = _resolveComponent(\"el-tooltip\");\n  const _component_el_header = _resolveComponent(\"el-header\");\n  const _component_el_table_column = _resolveComponent(\"el-table-column\");\n  const _component_el_image = _resolveComponent(\"el-image\");\n  const _component_el_table = _resolveComponent(\"el-table\");\n  const _component_el_switch = _resolveComponent(\"el-switch\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_el_header, null, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"span\", {\n      class: \"title\",\n      onClick: _cache[0] || (_cache[0] = (...args) => _ctx.refreshDashboard && _ctx.refreshDashboard(...args))\n    }, [_createVNode(_component_font_awesome_icon, {\n      icon: \"user-cog\",\n      class: \"fa-images\"\n    }), _cache[1] || (_cache[1] = _createTextVNode(\" 用户管理 \"))]), _createVNode(_component_el_dropdown, {\n      onCommand: $options.handleTabClick,\n      class: \"tabs-dropdown\",\n      role: \"navigation\",\n      onVisibleChange: $options.handleDropdownVisible,\n      \"popper-class\": \"tabs-dropdown-popper\"\n    }, {\n      dropdown: _withCtx(() => [_createVNode(_component_el_dropdown_menu, null, {\n        default: _withCtx(() => [_createVNode(_component_el_dropdown_item, {\n          command: \"dashboard\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_font_awesome_icon, {\n            icon: \"images\",\n            style: {\n              \"margin-right\": \"5px\"\n            }\n          }), _cache[2] || (_cache[2] = _createTextVNode(\" Gallery \"))]),\n          _: 1\n        }), _createVNode(_component_el_dropdown_item, {\n          command: \"systemConfig\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_font_awesome_icon, {\n            icon: \"cogs\",\n            style: {\n              \"margin-right\": \"5px\"\n            }\n          }), _cache[3] || (_cache[3] = _createTextVNode(\" 系统设置 \"))]),\n          _: 1\n        }), _createVNode(_component_el_dropdown_item, {\n          command: \"\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_font_awesome_icon, {\n            icon: \"upload\",\n            style: {\n              \"margin-right\": \"5px\"\n            }\n          }), _cache[4] || (_cache[4] = _createTextVNode(\" 上传页面 \"))]),\n          _: 1\n        })]),\n        _: 1\n      })]),\n      default: _withCtx(() => [_createElementVNode(\"span\", _hoisted_4, [_createVNode(_component_font_awesome_icon, {\n        icon: \"sort-down\",\n        class: \"tabs-arrow\"\n      })])]),\n      _: 1\n    }, 8, [\"onCommand\", \"onVisibleChange\"])]), _createElementVNode(\"div\", _hoisted_5, [_createVNode(_component_el_tooltip, {\n      disabled: $options.disableTooltip,\n      content: \"退出登录\",\n      placement: \"bottom\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_font_awesome_icon, {\n        icon: \"sign-out-alt\",\n        class: \"header-icon\",\n        onClick: $options.handleLogout\n      }, null, 8, [\"onClick\"])]),\n      _: 1\n    }, 8, [\"disabled\"])])])]),\n    _: 1\n  }), _createElementVNode(\"div\", _hoisted_6, [_createVNode(_component_el_table, {\n    data: $data.dealedData,\n    \"default-sort\": {\n      prop: 'count',\n      order: 'descending'\n    },\n    class: \"main-table\",\n    \"table-layout\": \"fixed\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_table_column, {\n      type: \"expand\"\n    }, {\n      default: _withCtx(props => [_createElementVNode(\"div\", _hoisted_7, [_cache[5] || (_cache[5] = _createElementVNode(\"h3\", {\n        style: {\n          \"text-align\": \"center\"\n        }\n      }, \"上传文件列表\", -1)), _createVNode(_component_el_table, {\n        data: props.row.data,\n        style: {\n          \"width\": \"100%\"\n        },\n        \"default-sort\": {\n          prop: 'metadata.TimeStamp',\n          order: 'descending'\n        },\n        \"table-layout\": \"fixed\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_table_column, {\n          prop: \"metadata.FileName\",\n          label: \"文件名\"\n        }), _createVNode(_component_el_table_column, {\n          prop: \"name\",\n          label: \"文件预览\"\n        }, {\n          default: _withCtx(({\n            row\n          }) => [row.metadata?.FileType?.includes('image') ? (_openBlock(), _createBlock(_component_el_image, {\n            key: 0,\n            src: '/file/' + row.name + '?from=admin',\n            fit: \"cover\",\n            lazy: \"\",\n            style: {\n              \"width\": \"100px\",\n              \"height\": \"100px\"\n            }\n          }, null, 8, [\"src\"])) : (_openBlock(), _createElementBlock(\"video\", {\n            key: 1,\n            src: '/file/' + row.name + '?from=admin',\n            controls: \"\",\n            style: {\n              \"width\": \"100px\",\n              \"height\": \"100px\"\n            }\n          }, null, 8, _hoisted_8))]),\n          _: 1\n        }), _createVNode(_component_el_table_column, {\n          formatter: $options.formatTimeStamp,\n          label: \"上传时间\",\n          prop: \"metadata.TimeStamp\",\n          sortable: \"\",\n          \"sort-method\": $options.sortByTimestamp\n        }, {\n          default: _withCtx(({\n            row\n          }) => [_createTextVNode(_toDisplayString($options.formatTimeStamp(row.metadata.TimeStamp)), 1)]),\n          _: 1\n        }, 8, [\"formatter\", \"sort-method\"])]),\n        _: 2\n      }, 1032, [\"data\"])])]),\n      _: 1\n    }), _createVNode(_component_el_table_column, {\n      prop: \"ip\",\n      label: \"IP地址\"\n    }), _createVNode(_component_el_table_column, {\n      prop: \"count\",\n      label: \"上传次数\",\n      sortable: \"\"\n    }), _createVNode(_component_el_table_column, {\n      label: \"允许上传\"\n    }, {\n      default: _withCtx(({\n        row\n      }) => [_createVNode(_component_el_switch, {\n        modelValue: row.enable,\n        \"onUpdate:modelValue\": $event => row.enable = $event,\n        \"active-color\": \"#13ce66\",\n        \"inactive-color\": \"#ff4949\",\n        \"active-text\": \"允许\",\n        \"inactive-text\": \"禁止\",\n        onChange: $event => $options.handleSwitchEnable(row)\n      }, null, 8, [\"modelValue\", \"onUpdate:modelValue\", \"onChange\"])]),\n      _: 1\n    })]),\n    _: 1\n  }, 8, [\"data\"])])]);\n}","import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.set.difference.v2.js\";\nimport \"core-js/modules/es.set.intersection.v2.js\";\nimport \"core-js/modules/es.set.is-disjoint-from.v2.js\";\nimport \"core-js/modules/es.set.is-subset-of.v2.js\";\nimport \"core-js/modules/es.set.is-superset-of.v2.js\";\nimport \"core-js/modules/es.set.symmetric-difference.v2.js\";\nimport \"core-js/modules/es.set.union.v2.js\";\nimport { mapGetters } from 'vuex';\nexport default {\n  name: 'CustomerConfig',\n  data() {\n    return {\n      tableData: [],\n      dealedData: [],\n      // 根据IP地址处理后的数据，格式为 {ip, count, [data]}\n      blockipList: [] // 禁止上传的IP列表\n    };\n  },\n  computed: {\n    ...mapGetters(['credentials']),\n    disableTooltip() {\n      return window.innerWidth < 768;\n    }\n  },\n  methods: {\n    async fetchWithAuth(url, options = {}) {\n      // 开发环境, url 前面加上 /api\n      // url = `/api${url}`;\n      if (this.credentials) {\n        // 设置 Authorization 头\n        options.headers = {\n          ...options.headers,\n          'Authorization': `Basic ${this.credentials}`\n        };\n        // 确保包含凭据，如 cookies\n        options.credentials = 'include';\n      }\n      const response = await fetch(url, options);\n      if (response.status === 401) {\n        // Redirect to the login page if a 401 Unauthorized is returned\n        this.$message.error('认证状态错误，请重新登录');\n        this.$router.push('/adminLogin');\n        throw new Error('Unauthorized');\n      }\n      return response;\n    },\n    dealByIP(data) {\n      let dealedData = [];\n      let ipSet = new Set();\n      data.forEach(item => {\n        if (item.metadata?.UploadIP) {\n          ipSet.add(item.metadata.UploadIP);\n        }\n      });\n      ipSet.forEach(ip => {\n        let ipData = data.filter(item => item.metadata?.UploadIP === ip);\n        let count = ipData.length;\n        let enable = !this.blockipList.includes(ip);\n        dealedData.push({\n          ip,\n          count,\n          data: ipData,\n          enable\n        });\n      });\n      return dealedData;\n    },\n    handleLogout() {\n      this.$store.commit('setCredentials', null);\n      this.$router.push('/adminLogin');\n    },\n    formatTimeStamp(timeStamp) {\n      return new Date(timeStamp).toLocaleString();\n    },\n    sortByTimestamp(a, b) {\n      return new Date(a.metadata.TimeStamp) - new Date(b.metadata.TimeStamp);\n    },\n    async handleSwitchEnable(row) {\n      const ip = row.ip;\n      const enable = row.enable;\n      if (enable) {\n        // 从 blockipList 中移除\n        this.blockipList = this.blockipList.filter(item => item !== ip);\n        // 更新 blockipList\n        await this.fetchWithAuth(\"/api/manage/cusConfig/whiteip\", {\n          method: 'POST',\n          body: ip\n        });\n      } else {\n        // 添加到 blockipList 中\n        this.blockipList.push(ip);\n        // 更新 blockipList\n        await this.fetchWithAuth(\"/api/manage/cusConfig/blockip\", {\n          method: 'POST',\n          body: ip\n        });\n      }\n    },\n    handleTabClick(tab) {\n      this.$router.push(`/${tab}`);\n    },\n    handleDropdownVisible(isVisible) {\n      const arrow = document.querySelector('.tabs-dropdown-link');\n      if (isVisible) {\n        arrow.classList.add('rotate-up'); // 添加旋转类\n      } else {\n        arrow.classList.remove('rotate-up'); // 移除旋转类\n      }\n    }\n  },\n  mounted() {\n    this.fetchWithAuth(\"/api/manage/check\", {\n      method: 'GET'\n    }).then(response => response.text()).then(result => {\n      if (result == \"true\") {\n        this.showLogoutButton = true;\n        // 在 check 成功后再执行 list 的 fetch 请求\n        return this.fetchWithAuth(\"/api/manage/list\", {\n          method: 'GET'\n        });\n      } else if (result == \"Not using basic auth.\") {\n        return this.fetchWithAuth(\"/api/manage/list\", {\n          method: 'GET'\n        });\n      } else {\n        throw new Error('Unauthorized');\n      }\n    }).then(response => response.json()).then(async result => {\n      // 读取blockipList, 接口返回格式为 'ip1,ip2,ip3'，需要转换为数组\n      const blockipList = await this.fetchWithAuth(\"/api/manage/cusConfig/blockipList\", {\n        method: 'GET'\n      });\n      this.blockipList = (await blockipList.text()).split(',');\n      this.tableData = result;\n      this.dealedData = this.dealByIP(result); // 根据IP地址处理数据\n    }).catch(err => {\n      if (err.message !== 'Unauthorized') {\n        this.$message.error('同步数据时出错，请检查网络连接');\n      }\n    });\n  }\n};","/* unplugin-vue-components disabled */import { render } from \"./CustomerConfig.vue?vue&type=template&id=16bd043b&scoped=true\"\nimport script from \"./CustomerConfig.vue?vue&type=script&lang=js\"\nexport * from \"./CustomerConfig.vue?vue&type=script&lang=js\"\n\nimport \"./CustomerConfig.vue?vue&type=style&index=0&id=16bd043b&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-16bd043b\"]])\n\nexport default __exports__"],"names":["_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","style","_hoisted_8","render","_ctx","_cache","$props","$setup","$data","$options","_component_font_awesome_icon","_component_el_dropdown_item","_component_el_dropdown_menu","_component_el_dropdown","_component_el_tooltip","_component_el_header","_component_el_table_column","_component_el_image","_component_el_table","_component_el_switch","default","onClick","args","refreshDashboard","icon","onCommand","handleTabClick","role","onVisibleChange","handleDropdownVisible","dropdown","command","_","disabled","disableTooltip","content","placement","handleLogout","data","dealedData","prop","order","type","props","row","label","metadata","FileType","includes","key","src","name","fit","lazy","controls","formatter","formatTimeStamp","sortable","sortByTimestamp","TimeStamp","modelValue","enable","$event","onChange","handleSwitchEnable","tableData","blockipList","computed","window","innerWidth","methods","fetchWithAuth","url","options","this","credentials","headers","response","fetch","status","$message","error","$router","push","Error","dealByIP","ipSet","Set","forEach","item","UploadIP","add","ip","ipData","filter","count","length","$store","commit","timeStamp","Date","toLocaleString","a","b","method","body","tab","isVisible","arrow","document","querySelector","classList","remove","mounted","then","text","result","showLogoutButton","json","async","split","catch","err","message","__exports__"],"sourceRoot":""}