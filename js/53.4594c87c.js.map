{"version":3,"file":"js/53.4594c87c.js","mappings":"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","sources":["webpack://sanyue_imghub/./src/views/AdminDashBoard.vue?5a73","webpack://sanyue_imghub/./src/views/AdminDashBoard.vue","webpack://sanyue_imghub/./src/views/AdminDashBoard.vue?40d2"],"sourcesContent":["import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass, withCtx as _withCtx, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createBlock as _createBlock, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"header-content\"\n};\nconst _hoisted_2 = {\n  class: \"search-card\"\n};\nconst _hoisted_3 = {\n  class: \"stats\"\n};\nconst _hoisted_4 = {\n  class: \"actions\"\n};\nconst _hoisted_5 = {\n  class: \"el-dropdown-link\"\n};\nconst _hoisted_6 = {\n  class: \"content\"\n};\nconst _hoisted_7 = [\"src\"];\nconst _hoisted_8 = {\n  class: \"image-overlay\"\n};\nconst _hoisted_9 = {\n  class: \"overlay-buttons\"\n};\nconst _hoisted_10 = {\n  class: \"file-info\"\n};\nconst _hoisted_11 = {\n  class: \"pagination-container\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_el_dropdown_item = _resolveComponent(\"el-dropdown-item\");\n  const _component_el_dropdown_menu = _resolveComponent(\"el-dropdown-menu\");\n  const _component_el_dropdown = _resolveComponent(\"el-dropdown\");\n  const _component_el_tooltip = _resolveComponent(\"el-tooltip\");\n  const _component_el_header = _resolveComponent(\"el-header\");\n  const _component_el_checkbox = _resolveComponent(\"el-checkbox\");\n  const _component_el_image = _resolveComponent(\"el-image\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_card = _resolveComponent(\"el-card\");\n  const _component_el_pagination = _resolveComponent(\"el-pagination\");\n  const _component_el_main = _resolveComponent(\"el-main\");\n  const _component_el_container = _resolveComponent(\"el-container\");\n  return _openBlock(), _createBlock(_component_el_container, null, {\n    default: _withCtx(() => [_createVNode(_component_el_header, null, {\n      default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"span\", {\n        class: \"title\",\n        onClick: _cache[0] || (_cache[0] = (...args) => $options.refreshDashboard && $options.refreshDashboard(...args))\n      }, \"Dashboard\"), _createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_el_input, {\n        modelValue: $data.search,\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.search = $event),\n        size: \"mini\",\n        placeholder: \"输入关键字搜索\"\n      }, null, 8, [\"modelValue\"])]), _createElementVNode(\"span\", _hoisted_3, [_cache[6] || (_cache[6] = _createElementVNode(\"i\", {\n        class: \"fas fa-database\"\n      }, null, -1)), _createTextVNode(\" 记录总数量: \" + _toDisplayString($data.Number), 1)]), _createElementVNode(\"div\", _hoisted_4, [_createVNode(_component_el_tooltip, {\n        content: \"排序\",\n        placement: \"bottom\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_dropdown, {\n          onCommand: $options.sort,\n          \"hide-on-click\": false\n        }, {\n          default: _withCtx(() => [_createElementVNode(\"span\", _hoisted_5, [_createElementVNode(\"i\", {\n            class: _normalizeClass($options.sortIcon)\n          }, null, 2)]), _createVNode(_component_el_dropdown_menu, {\n            slot: \"dropdown\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_dropdown_item, {\n              command: \"dateDesc\",\n              class: _normalizeClass({\n                'el-dropdown-menu__item--selected': $data.sortOption === 'dateDesc'\n              })\n            }, {\n              default: _withCtx(() => _cache[7] || (_cache[7] = [_createTextVNode(\"按时间倒序\")])),\n              _: 1\n            }, 8, [\"class\"]), _createVNode(_component_el_dropdown_item, {\n              command: \"nameAsc\",\n              class: _normalizeClass({\n                'el-dropdown-menu__item--selected': $data.sortOption === 'nameAsc'\n              })\n            }, {\n              default: _withCtx(() => _cache[8] || (_cache[8] = [_createTextVNode(\"按名称升序\")])),\n              _: 1\n            }, 8, [\"class\"])]),\n            _: 1\n          })]),\n          _: 1\n        }, 8, [\"onCommand\"])]),\n        _: 1\n      }), _createVNode(_component_el_tooltip, {\n        content: \"批量复制\",\n        placement: \"bottom\"\n      }, {\n        default: _withCtx(() => [_createElementVNode(\"i\", {\n          class: _normalizeClass([\"fas fa-link\", {\n            disabled: $data.selectedFiles.length === 0\n          }]),\n          onClick: _cache[2] || (_cache[2] = (...args) => $options.handleBatchCopy && $options.handleBatchCopy(...args))\n        }, null, 2)]),\n        _: 1\n      }), _createVNode(_component_el_tooltip, {\n        content: \"批量删除\",\n        placement: \"bottom\"\n      }, {\n        default: _withCtx(() => [_createElementVNode(\"i\", {\n          class: _normalizeClass([\"fas fa-trash-alt\", {\n            disabled: $data.selectedFiles.length === 0\n          }]),\n          onClick: _cache[3] || (_cache[3] = (...args) => $options.handleBatchDelete && $options.handleBatchDelete(...args))\n        }, null, 2)]),\n        _: 1\n      }), _createVNode(_component_el_tooltip, {\n        content: \"黑白名单管理\",\n        placement: \"bottom\"\n      }, {\n        default: _withCtx(() => [_createElementVNode(\"i\", {\n          class: \"fas fa-user-cog\",\n          onClick: _cache[4] || (_cache[4] = (...args) => $options.handleGoToAdmin && $options.handleGoToAdmin(...args))\n        })]),\n        _: 1\n      }), _createVNode(_component_el_tooltip, {\n        content: \"返回上传页\",\n        placement: \"bottom\"\n      }, {\n        default: _withCtx(() => [_createElementVNode(\"i\", {\n          class: \"fas fa-home\",\n          onClick: _cache[5] || (_cache[5] = (...args) => $options.handleLogout && $options.handleLogout(...args))\n        })]),\n        _: 1\n      })])])]),\n      _: 1\n    }), _createVNode(_component_el_main, {\n      class: \"main-container\"\n    }, {\n      default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_6, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.paginatedTableData, (item, index) => {\n        return _openBlock(), _createBlock(_component_el_card, {\n          key: index\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_checkbox, {\n            modelValue: item.selected,\n            \"onUpdate:modelValue\": $event => item.selected = $event\n          }, null, 8, [\"modelValue\", \"onUpdate:modelValue\"]), item.metadata?.FileType?.includes('video') ? (_openBlock(), _createElementBlock(\"video\", {\n            key: 0,\n            src: '/file/' + item.name,\n            autoplay: \"\",\n            muted: \"\",\n            loop: \"\",\n            class: \"video-preview\"\n          }, null, 8, _hoisted_7)) : (_openBlock(), _createBlock(_component_el_image, {\n            key: 1,\n            src: '/file/' + item.name,\n            \"preview-src-list\": ['/file/' + item.name],\n            fit: \"cover\",\n            lazy: \"\"\n          }, null, 8, [\"src\", \"preview-src-list\"])), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, [_createVNode(_component_el_button, {\n            size: \"mini\",\n            type: \"primary\",\n            onClick: _withModifiers($event => $options.handleCopy(index, item.name), [\"stop\"])\n          }, {\n            default: _withCtx(() => _cache[9] || (_cache[9] = [_createTextVNode(\"复制地址\")])),\n            _: 2\n          }, 1032, [\"onClick\"]), _createVNode(_component_el_button, {\n            size: \"mini\",\n            type: \"danger\",\n            onClick: _withModifiers($event => $options.handleDelete(index, item.name), [\"stop\"])\n          }, {\n            default: _withCtx(() => _cache[10] || (_cache[10] = [_createTextVNode(\"删除\")])),\n            _: 2\n          }, 1032, [\"onClick\"])])]), _createElementVNode(\"div\", _hoisted_10, _toDisplayString(item.metadata?.FileName || item.name), 1)]),\n          _: 2\n        }, 1024);\n      }), 128))]), _createElementVNode(\"div\", _hoisted_11, [_createVNode(_component_el_pagination, {\n        background: \"\",\n        layout: \"prev, pager, next\",\n        total: $options.filteredTableData.length,\n        \"page-size\": $data.pageSize,\n        onCurrentChange: $options.handlePageChange,\n        \"current-page\": $data.currentPage\n      }, null, 8, [\"total\", \"page-size\", \"onCurrentChange\", \"current-page\"])])]),\n      _: 1\n    })]),\n    _: 1\n  });\n}","export default {\n  data() {\n    return {\n      Number: 0,\n      showLogoutButton: false,\n      tableData: [],\n      search: '',\n      currentPage: 1,\n      pageSize: 15,\n      selectedFiles: [],\n      sortOption: 'dateDesc',\n      isUploading: false\n    };\n  },\n  computed: {\n    filteredTableData() {\n      return this.tableData.filter(data => !this.search || data.name.toLowerCase().includes(this.search.toLowerCase()));\n    },\n    paginatedTableData() {\n      const sortedData = this.sortData(this.filteredTableData);\n      const start = (this.currentPage - 1) * this.pageSize;\n      const end = start + this.pageSize;\n      return sortedData.slice(start, end);\n    },\n    sortIcon() {\n      return this.sortOption === 'dateDesc' ? 'fas fa-sort-amount-down' : 'fas fa-sort-alpha-up';\n    }\n  },\n  watch: {\n    tableData: {\n      handler(newData) {\n        this.selectedFiles = newData.filter(file => file.selected);\n      },\n      deep: true\n    },\n    sortOption(newOption) {\n      localStorage.setItem('sortOption', newOption);\n    }\n  },\n  methods: {\n    refreshDashboard() {\n      location.reload();\n    },\n    handleDelete(index, key) {\n      this.$confirm('此操作将永久删除该文件, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        fetch(`./api/manage/delete/${key}`, {\n          method: 'GET',\n          credentials: 'include'\n        }).then(response => {\n          if (response.ok) {\n            const fileIndex = this.tableData.findIndex(file => file.name === key);\n            if (fileIndex !== -1) {\n              this.tableData.splice(fileIndex, 1);\n            }\n          } else {\n            return Promise.reject('请求失败');\n          }\n        }).then(() => {\n          this.updateStats();\n          this.$message.success('删除成功!');\n        }).catch(() => this.$message.error('删除失败，请检查网络连接'));\n      }).catch(() => this.$message.info('已取消删除'));\n    },\n    handleBatchDelete() {\n      this.$confirm('此操作将永久删除选中的文件, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        const promises = this.selectedFiles.map(file => fetch(`./api/manage/delete/${file.name}`, {\n          method: 'GET',\n          credentials: 'include'\n        }));\n        Promise.all(promises).then(results => {\n          results.forEach((response, index) => {\n            if (response.ok) {\n              const fileIndex = this.tableData.findIndex(file => file.name === this.selectedFiles[index].name);\n              if (fileIndex !== -1) {\n                this.tableData.splice(fileIndex, 1);\n              }\n            }\n          });\n          this.selectedFiles = [];\n          this.updateStats();\n          this.$message.success('批量删除成功!');\n        }).catch(() => this.$message.error('批量删除失败，请检查网络连接'));\n      }).catch(() => this.$message.info('已取消批量删除'));\n    },\n    handleBatchCopy() {\n      const links = this.selectedFiles.map(file => `${document.location.origin}/file/${file.name}`).join('\\n');\n      navigator.clipboard ? navigator.clipboard.writeText(links).then(() => this.$message.success('批量复制链接成功~')) : this.copyToClipboardFallback(links);\n    },\n    copyToClipboardFallback(text) {\n      const textarea = document.createElement('textarea');\n      document.body.appendChild(textarea);\n      textarea.style.position = 'fixed';\n      textarea.style.clip = 'rect(0 0 0 0)';\n      textarea.style.top = '10px';\n      textarea.value = text;\n      textarea.select();\n      document.execCommand('copy');\n      document.body.removeChild(textarea);\n      this.$message.success('批量复制链接成功~');\n    },\n    handleLogout() {\n      window.location.href = '/';\n    },\n    handleGoToAdmin() {\n      window.location.href = '/admin-detail';\n    },\n    handleCopy(index, key) {\n      const text = `${document.location.origin}/file/${key}`;\n      navigator.clipboard ? navigator.clipboard.writeText(text).then(() => this.$message.success('复制文件链接成功~')) : this.copyToClipboardFallback(text);\n    },\n    handlePageChange(page) {\n      this.currentPage = page;\n    },\n    updateStats() {\n      this.Number = this.tableData.length;\n    },\n    sort(command) {\n      this.sortOption = command;\n    },\n    sortData(data) {\n      return this.sortOption === 'nameAsc' ? data.sort((a, b) => a.name.localeCompare(b.name)) : data.sort((a, b) => b.metadata.TimeStamp - a.metadata.TimeStamp);\n    }\n  },\n  mounted() {\n    fetch(\"./api/manage/check\", {\n      method: 'GET',\n      credentials: 'include'\n    }).then(response => response.text()).then(result => {\n      if (result == \"true\") {\n        this.showLogoutButton = true;\n        // 在 check 成功后再执行 list 的 fetch 请求\n        return fetch(\"./api/manage/list\", {\n          method: 'GET',\n          credentials: 'include'\n        });\n      } else if (result == \"Not using basic auth.\") {\n        return fetch(\"./api/manage/list\", {\n          method: 'GET',\n          credentials: 'include'\n        });\n      } else {\n        window.location.reload();\n        return Promise.reject();\n      }\n    }).then(response => response.json()).then(result => {\n      this.tableData = result.map(file => ({\n        ...file,\n        selected: false\n      }));\n      this.updateStats();\n      const savedSortOption = localStorage.getItem('sortOption');\n      if (savedSortOption) {\n        this.sortOption = savedSortOption;\n      }\n      this.sortData(this.tableData);\n    }).catch(() => this.$message.error('同步数据时出错，请检查网络连接'));\n  }\n};","/* unplugin-vue-components disabled */import { render } from \"./AdminDashBoard.vue?vue&type=template&id=9f015228&scoped=true\"\nimport script from \"./AdminDashBoard.vue?vue&type=script&lang=js\"\nexport * from \"./AdminDashBoard.vue?vue&type=script&lang=js\"\n\nimport \"./AdminDashBoard.vue?vue&type=style&index=0&id=9f015228&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-9f015228\"]])\n\nexport default __exports__"],"names":["_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","render","_ctx","_cache","$props","$setup","$data","$options","_component_el_input","_component_el_dropdown_item","_component_el_dropdown_menu","_component_el_dropdown","_component_el_tooltip","_component_el_header","_component_el_checkbox","_component_el_image","_component_el_button","_component_el_card","_component_el_pagination","_component_el_main","_component_el_container","default","onClick","args","refreshDashboard","modelValue","search","$event","size","placeholder","Number","content","placement","onCommand","sort","sortIcon","slot","command","sortOption","_","disabled","selectedFiles","length","handleBatchCopy","handleBatchDelete","handleGoToAdmin","handleLogout","paginatedTableData","item","index","key","selected","metadata","FileType","includes","src","name","autoplay","muted","loop","fit","lazy","type","handleCopy","handleDelete","FileName","background","layout","total","filteredTableData","pageSize","onCurrentChange","handlePageChange","currentPage","data","showLogoutButton","tableData","isUploading","computed","this","filter","toLowerCase","sortedData","sortData","start","end","slice","watch","handler","newData","file","deep","newOption","localStorage","setItem","methods","location","reload","$confirm","confirmButtonText","cancelButtonText","then","fetch","method","credentials","response","ok","Promise","reject","fileIndex","findIndex","splice","updateStats","$message","success","catch","error","info","promises","map","all","results","forEach","links","document","origin","join","navigator","clipboard","writeText","copyToClipboardFallback","text","textarea","createElement","body","appendChild","style","position","clip","top","value","select","execCommand","removeChild","window","href","page","a","b","localeCompare","TimeStamp","mounted","result","json","savedSortOption","getItem","__exports__"],"sourceRoot":""}