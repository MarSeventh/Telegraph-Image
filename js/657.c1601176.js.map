{"version":3,"file":"js/657.c1601176.js","mappings":"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","sources":["webpack://sanyue_imghub/./src/views/SystemConfig.vue?c7d1","webpack://sanyue_imghub/./src/views/SystemConfig.vue","webpack://sanyue_imghub/./src/views/SystemConfig.vue?d269"],"sourcesContent":["import { resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, createElementVNode as _createElementVNode, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = {\n  class: \"header-content\"\n};\nconst _hoisted_3 = {\n  class: \"tabs\"\n};\nconst _hoisted_4 = {\n  class: \"tabs-dropdown-link\"\n};\nconst _hoisted_5 = {\n  class: \"header-action\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\");\n  const _component_el_dropdown_item = _resolveComponent(\"el-dropdown-item\");\n  const _component_el_dropdown_menu = _resolveComponent(\"el-dropdown-menu\");\n  const _component_el_dropdown = _resolveComponent(\"el-dropdown\");\n  const _component_el_tooltip = _resolveComponent(\"el-tooltip\");\n  const _component_el_header = _resolveComponent(\"el-header\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_el_header, null, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"span\", {\n      class: \"title\",\n      onClick: _cache[0] || (_cache[0] = (...args) => _ctx.refreshDashboard && _ctx.refreshDashboard(...args))\n    }, [_createVNode(_component_font_awesome_icon, {\n      icon: \"cogs\",\n      class: \"fa-images\"\n    }), _cache[1] || (_cache[1] = _createTextVNode(\" 系统设置 \"))]), _createVNode(_component_el_dropdown, {\n      onCommand: $options.handleTabClick,\n      class: \"tabs-dropdown\",\n      role: \"navigation\",\n      onVisibleChange: $options.handleDropdownVisible,\n      \"popper-class\": \"tabs-dropdown-popper\"\n    }, {\n      dropdown: _withCtx(() => [_createVNode(_component_el_dropdown_menu, null, {\n        default: _withCtx(() => [_createVNode(_component_el_dropdown_item, {\n          command: \"dashboard\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_font_awesome_icon, {\n            icon: \"images\",\n            style: {\n              \"margin-right\": \"5px\"\n            }\n          }), _cache[2] || (_cache[2] = _createTextVNode(\" Gallery \"))]),\n          _: 1\n        }), _createVNode(_component_el_dropdown_item, {\n          command: \"customerConfig\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_font_awesome_icon, {\n            icon: \"user-cog\",\n            style: {\n              \"margin-right\": \"5px\"\n            }\n          }), _cache[3] || (_cache[3] = _createTextVNode(\" 用户管理 \"))]),\n          _: 1\n        }), _createVNode(_component_el_dropdown_item, {\n          command: \"\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_font_awesome_icon, {\n            icon: \"upload\",\n            style: {\n              \"margin-right\": \"5px\"\n            }\n          }), _cache[4] || (_cache[4] = _createTextVNode(\" 上传页面 \"))]),\n          _: 1\n        })]),\n        _: 1\n      })]),\n      default: _withCtx(() => [_createElementVNode(\"span\", _hoisted_4, [_createVNode(_component_font_awesome_icon, {\n        icon: \"sort-down\",\n        class: \"tabs-arrow\"\n      })])]),\n      _: 1\n    }, 8, [\"onCommand\", \"onVisibleChange\"])]), _createElementVNode(\"div\", _hoisted_5, [_createVNode(_component_el_tooltip, {\n      disabled: $options.disableTooltip,\n      content: \"退出登录\",\n      placement: \"bottom\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_font_awesome_icon, {\n        icon: \"sign-out-alt\",\n        class: \"header-icon\",\n        onClick: $options.handleLogout\n      }, null, 8, [\"onClick\"])]),\n      _: 1\n    }, 8, [\"disabled\"])])])]),\n    _: 1\n  })]);\n}","import \"core-js/modules/es.array.push.js\";\nimport { mapGetters } from 'vuex';\nexport default {\n  name: 'SystemConfig',\n  data() {\n    return {};\n  },\n  computed: {\n    disableTooltip() {\n      return window.innerWidth < 768;\n    }\n  },\n  methods: {\n    async fetchWithAuth(url, options = {}) {\n      // 开发环境, url 前面加上 /api\n      // url = `/api${url}`;\n      if (this.credentials) {\n        // 设置 Authorization 头\n        options.headers = {\n          ...options.headers,\n          'Authorization': `Basic ${this.credentials}`\n        };\n        // 确保包含凭据，如 cookies\n        options.credentials = 'include';\n      }\n      const response = await fetch(url, options);\n      if (response.status === 401) {\n        // Redirect to the login page if a 401 Unauthorized is returned\n        this.$message.error('认证状态错误，请重新登录');\n        this.$router.push('/adminLogin');\n        throw new Error('Unauthorized');\n      }\n      return response;\n    },\n    handleLogout() {\n      this.$store.commit('setCredentials', null);\n      this.$router.push('/adminLogin');\n    },\n    handleTabClick(tab) {\n      this.$router.push(`/${tab}`);\n    },\n    handleDropdownVisible(isVisible) {\n      const arrow = document.querySelector('.tabs-dropdown-link');\n      if (isVisible) {\n        arrow.classList.add('rotate-up'); // 添加旋转类\n      } else {\n        arrow.classList.remove('rotate-up'); // 移除旋转类\n      }\n    }\n  }\n};","/* unplugin-vue-components disabled */import { render } from \"./SystemConfig.vue?vue&type=template&id=3dd01081&scoped=true\"\nimport script from \"./SystemConfig.vue?vue&type=script&lang=js\"\nexport * from \"./SystemConfig.vue?vue&type=script&lang=js\"\n\nimport \"./SystemConfig.vue?vue&type=style&index=0&id=3dd01081&scoped=true&lang=css\"\nimport \"./SystemConfig.vue?vue&type=style&index=1&id=3dd01081&lang=css\"\nimport \"./SystemConfig.vue?vue&type=style&index=2&id=3dd01081&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3dd01081\"]])\n\nexport default __exports__"],"names":["_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","render","_ctx","_cache","$props","$setup","$data","$options","_component_font_awesome_icon","_component_el_dropdown_item","_component_el_dropdown_menu","_component_el_dropdown","_component_el_tooltip","_component_el_header","default","onClick","args","refreshDashboard","icon","onCommand","handleTabClick","role","onVisibleChange","handleDropdownVisible","dropdown","command","style","_","disabled","disableTooltip","content","placement","handleLogout","name","data","computed","window","innerWidth","methods","fetchWithAuth","url","options","this","credentials","headers","response","fetch","status","$message","error","$router","push","Error","$store","commit","tab","isVisible","arrow","document","querySelector","classList","add","remove","__exports__"],"sourceRoot":""}