{"version":3,"file":"js/758.86df0ac3.js","mappings":"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","sources":["webpack://sanyue_imghub/./src/views/AdminDashBoard.vue?f784","webpack://sanyue_imghub/./src/views/AdminDashBoard.vue","webpack://sanyue_imghub/./src/views/AdminDashBoard.vue?40d2"],"sourcesContent":["import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, normalizeClass as _normalizeClass, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createBlock as _createBlock, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"header-content\"\n};\nconst _hoisted_2 = {\n  class: \"search-card\"\n};\nconst _hoisted_3 = {\n  class: \"stats\"\n};\nconst _hoisted_4 = {\n  class: \"actions\"\n};\nconst _hoisted_5 = {\n  class: \"el-dropdown-link\"\n};\nconst _hoisted_6 = {\n  class: \"content\"\n};\nconst _hoisted_7 = [\"src\"];\nconst _hoisted_8 = {\n  class: \"image-overlay\"\n};\nconst _hoisted_9 = {\n  class: \"overlay-buttons\"\n};\nconst _hoisted_10 = {\n  class: \"file-info\"\n};\nconst _hoisted_11 = {\n  class: \"pagination-container\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\");\n  const _component_el_dropdown_item = _resolveComponent(\"el-dropdown-item\");\n  const _component_el_dropdown_menu = _resolveComponent(\"el-dropdown-menu\");\n  const _component_el_dropdown = _resolveComponent(\"el-dropdown\");\n  const _component_el_tooltip = _resolveComponent(\"el-tooltip\");\n  const _component_el_header = _resolveComponent(\"el-header\");\n  const _component_el_checkbox = _resolveComponent(\"el-checkbox\");\n  const _component_el_image = _resolveComponent(\"el-image\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_card = _resolveComponent(\"el-card\");\n  const _component_el_pagination = _resolveComponent(\"el-pagination\");\n  const _component_el_main = _resolveComponent(\"el-main\");\n  const _component_el_container = _resolveComponent(\"el-container\");\n  return _openBlock(), _createBlock(_component_el_container, {\n    class: \"container\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_header, null, {\n      default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"span\", {\n        class: \"title\",\n        onClick: _cache[0] || (_cache[0] = (...args) => $options.refreshDashboard && $options.refreshDashboard(...args))\n      }, \"Dashboard\"), _createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_el_input, {\n        modelValue: $data.search,\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.search = $event),\n        size: \"mini\",\n        placeholder: \"输入关键字搜索\"\n      }, null, 8, [\"modelValue\"])]), _createElementVNode(\"span\", _hoisted_3, [_createVNode(_component_font_awesome_icon, {\n        icon: \"database\",\n        class: \"fa-database\"\n      }), _createTextVNode(\" 记录总数量: \" + _toDisplayString($data.Number), 1)]), _createElementVNode(\"div\", _hoisted_4, [_createVNode(_component_el_tooltip, {\n        content: \"排序\",\n        placement: \"bottom\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_dropdown, {\n          onCommand: $options.sort,\n          \"hide-on-click\": false\n        }, {\n          dropdown: _withCtx(() => [_createVNode(_component_el_dropdown_menu, null, {\n            default: _withCtx(() => [_createVNode(_component_el_dropdown_item, {\n              command: \"dateDesc\"\n            }, {\n              default: _withCtx(() => _cache[2] || (_cache[2] = [_createTextVNode(\"按时间倒序\")])),\n              _: 1\n            }), _createVNode(_component_el_dropdown_item, {\n              command: \"nameAsc\"\n            }, {\n              default: _withCtx(() => _cache[3] || (_cache[3] = [_createTextVNode(\"按名称升序\")])),\n              _: 1\n            })]),\n            _: 1\n          })]),\n          default: _withCtx(() => [_createElementVNode(\"span\", _hoisted_5, [_createVNode(_component_font_awesome_icon, {\n            icon: $options.sortIcon,\n            class: \"header-icon\"\n          }, null, 8, [\"icon\"])])]),\n          _: 1\n        }, 8, [\"onCommand\"])]),\n        _: 1\n      }), _createVNode(_component_el_tooltip, {\n        content: \"批量复制\",\n        placement: \"bottom\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_font_awesome_icon, {\n          icon: \"link\",\n          class: _normalizeClass([\"header-icon\", {\n            disabled: $data.selectedFiles.length === 0\n          }]),\n          onClick: $options.handleBatchCopy\n        }, null, 8, [\"class\", \"onClick\"])]),\n        _: 1\n      }), _createVNode(_component_el_tooltip, {\n        content: \"批量删除\",\n        placement: \"bottom\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_font_awesome_icon, {\n          icon: \"trash-alt\",\n          class: _normalizeClass([\"header-icon\", {\n            disabled: $data.selectedFiles.length === 0\n          }]),\n          onClick: $options.handleBatchDelete\n        }, null, 8, [\"class\", \"onClick\"])]),\n        _: 1\n      }), _createVNode(_component_el_tooltip, {\n        content: \"黑白名单管理\",\n        placement: \"bottom\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_font_awesome_icon, {\n          icon: \"user-cog\",\n          class: \"header-icon\",\n          onClick: $options.handleGoToAdmin\n        }, null, 8, [\"onClick\"])]),\n        _: 1\n      }), _createVNode(_component_el_tooltip, {\n        content: \"返回上传页\",\n        placement: \"bottom\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_font_awesome_icon, {\n          icon: \"home\",\n          class: \"header-icon\",\n          onClick: $options.handleLogout\n        }, null, 8, [\"onClick\"])]),\n        _: 1\n      })])])]),\n      _: 1\n    }), _createVNode(_component_el_main, {\n      class: \"main-container\"\n    }, {\n      default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_6, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.paginatedTableData, (item, index) => {\n        return _openBlock(), _createBlock(_component_el_card, {\n          key: index\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_checkbox, {\n            modelValue: item.selected,\n            \"onUpdate:modelValue\": $event => item.selected = $event\n          }, null, 8, [\"modelValue\", \"onUpdate:modelValue\"]), item.metadata?.FileType?.includes('video') ? (_openBlock(), _createElementBlock(\"video\", {\n            key: 0,\n            src: '/file/' + item.name,\n            autoplay: \"\",\n            muted: \"\",\n            loop: \"\",\n            class: \"video-preview\"\n          }, null, 8, _hoisted_7)) : (_openBlock(), _createBlock(_component_el_image, {\n            key: 1,\n            src: '/file/' + item.name,\n            \"preview-src-list\": ['/file/' + item.name],\n            fit: \"cover\",\n            lazy: \"\"\n          }, null, 8, [\"src\", \"preview-src-list\"])), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, [_createVNode(_component_el_button, {\n            size: \"mini\",\n            type: \"primary\",\n            onClick: _withModifiers($event => $options.handleCopy(index, item.name), [\"stop\"])\n          }, {\n            default: _withCtx(() => _cache[4] || (_cache[4] = [_createTextVNode(\"复制地址\")])),\n            _: 2\n          }, 1032, [\"onClick\"]), _createVNode(_component_el_button, {\n            size: \"mini\",\n            type: \"danger\",\n            onClick: _withModifiers($event => $options.handleDelete(index, item.name), [\"stop\"])\n          }, {\n            default: _withCtx(() => _cache[5] || (_cache[5] = [_createTextVNode(\"删除\")])),\n            _: 2\n          }, 1032, [\"onClick\"])])]), _createElementVNode(\"div\", _hoisted_10, _toDisplayString(item.metadata?.FileName || item.name), 1)]),\n          _: 2\n        }, 1024);\n      }), 128))]), _createElementVNode(\"div\", _hoisted_11, [_createVNode(_component_el_pagination, {\n        background: \"\",\n        layout: \"prev, pager, next\",\n        total: $options.filteredTableData.length,\n        \"page-size\": $data.pageSize,\n        onCurrentChange: $options.handlePageChange,\n        \"current-page\": $data.currentPage\n      }, null, 8, [\"total\", \"page-size\", \"onCurrentChange\", \"current-page\"])])]),\n      _: 1\n    })]),\n    _: 1\n  });\n}","import \"core-js/modules/es.array.push.js\";\nexport default {\n  data() {\n    return {\n      Number: 0,\n      showLogoutButton: false,\n      tableData: [],\n      search: '',\n      currentPage: 1,\n      pageSize: 15,\n      selectedFiles: [],\n      sortOption: 'dateDesc',\n      isUploading: false\n    };\n  },\n  computed: {\n    filteredTableData() {\n      return this.tableData.filter(data => !this.search || data.name.toLowerCase().includes(this.search.toLowerCase()));\n    },\n    paginatedTableData() {\n      const sortedData = this.sortData(this.filteredTableData);\n      const start = (this.currentPage - 1) * this.pageSize;\n      const end = start + this.pageSize;\n      return sortedData.slice(start, end);\n    },\n    sortIcon() {\n      return this.sortOption === 'dateDesc' ? 'sort-amount-down' : 'sort-alpha-up';\n    }\n  },\n  watch: {\n    tableData: {\n      handler(newData) {\n        this.selectedFiles = newData.filter(file => file.selected);\n      },\n      deep: true\n    },\n    sortOption(newOption) {\n      localStorage.setItem('sortOption', newOption);\n    }\n  },\n  methods: {\n    refreshDashboard() {\n      location.reload();\n    },\n    handleDelete(index, key) {\n      this.$confirm('此操作将永久删除该文件, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        fetch(`./api/manage/delete/${key}`, {\n          method: 'GET',\n          credentials: 'include'\n        }).then(response => {\n          if (response.ok) {\n            const fileIndex = this.tableData.findIndex(file => file.name === key);\n            if (fileIndex !== -1) {\n              this.tableData.splice(fileIndex, 1);\n            }\n          } else {\n            return Promise.reject('请求失败');\n          }\n        }).then(() => {\n          this.updateStats();\n          this.$message.success('删除成功!');\n        }).catch(() => this.$message.error('删除失败，请检查网络连接'));\n      }).catch(() => this.$message.info('已取消删除'));\n    },\n    handleBatchDelete() {\n      this.$confirm('此操作将永久删除选中的文件, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        const promises = this.selectedFiles.map(file => fetch(`./api/manage/delete/${file.name}`, {\n          method: 'GET',\n          credentials: 'include'\n        }));\n        Promise.all(promises).then(results => {\n          results.forEach((response, index) => {\n            if (response.ok) {\n              const fileIndex = this.tableData.findIndex(file => file.name === this.selectedFiles[index].name);\n              if (fileIndex !== -1) {\n                this.tableData.splice(fileIndex, 1);\n              }\n            }\n          });\n          this.selectedFiles = [];\n          this.updateStats();\n          this.$message.success('批量删除成功!');\n        }).catch(() => this.$message.error('批量删除失败，请检查网络连接'));\n      }).catch(() => this.$message.info('已取消批量删除'));\n    },\n    handleBatchCopy() {\n      const links = this.selectedFiles.map(file => `${document.location.origin}/file/${file.name}`).join('\\n');\n      navigator.clipboard ? navigator.clipboard.writeText(links).then(() => this.$message.success('批量复制链接成功~')) : this.copyToClipboardFallback(links);\n    },\n    copyToClipboardFallback(text) {\n      const textarea = document.createElement('textarea');\n      document.body.appendChild(textarea);\n      textarea.style.position = 'fixed';\n      textarea.style.clip = 'rect(0 0 0 0)';\n      textarea.style.top = '10px';\n      textarea.value = text;\n      textarea.select();\n      document.execCommand('copy');\n      document.body.removeChild(textarea);\n      this.$message.success('批量复制链接成功~');\n    },\n    handleLogout() {\n      this.$router.push('/');\n    },\n    handleGoToAdmin() {\n      window.location.href = '/admin-detail';\n    },\n    handleCopy(index, key) {\n      const text = `${document.location.origin}/file/${key}`;\n      navigator.clipboard ? navigator.clipboard.writeText(text).then(() => this.$message.success('复制文件链接成功~')) : this.copyToClipboardFallback(text);\n    },\n    handlePageChange(page) {\n      this.currentPage = page;\n    },\n    updateStats() {\n      this.Number = this.tableData.length;\n    },\n    sort(command) {\n      this.sortOption = command;\n    },\n    sortData(data) {\n      return this.sortOption === 'nameAsc' ? data.sort((a, b) => a.name.localeCompare(b.name)) : data.sort((a, b) => b.metadata.TimeStamp - a.metadata.TimeStamp);\n    }\n  },\n  mounted() {\n    fetch(\"./api/manage/check\", {\n      method: 'GET',\n      credentials: 'include'\n    }).then(response => response.text()).then(result => {\n      if (result == \"true\") {\n        this.showLogoutButton = true;\n        // 在 check 成功后再执行 list 的 fetch 请求\n        return fetch(\"./api/manage/list\", {\n          method: 'GET',\n          credentials: 'include'\n        });\n      } else if (result == \"Not using basic auth.\") {\n        return fetch(\"./api/manage/list\", {\n          method: 'GET',\n          credentials: 'include'\n        });\n      } else {\n        // window.location.reload();\n        return Promise.reject();\n      }\n    }).then(response => response.json()).then(result => {\n      this.tableData = result.map(file => ({\n        ...file,\n        selected: false\n      }));\n      this.updateStats();\n      const savedSortOption = localStorage.getItem('sortOption');\n      if (savedSortOption) {\n        this.sortOption = savedSortOption;\n      }\n      this.sortData(this.tableData);\n    }).catch(() => this.$message.error('同步数据时出错，请检查网络连接'));\n  }\n};","/* unplugin-vue-components disabled */import { render } from \"./AdminDashBoard.vue?vue&type=template&id=92bda5d4&scoped=true\"\nimport script from \"./AdminDashBoard.vue?vue&type=script&lang=js\"\nexport * from \"./AdminDashBoard.vue?vue&type=script&lang=js\"\n\nimport \"./AdminDashBoard.vue?vue&type=style&index=0&id=92bda5d4&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-92bda5d4\"]])\n\nexport default __exports__"],"names":["_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","render","_ctx","_cache","$props","$setup","$data","$options","_component_el_input","_component_font_awesome_icon","_component_el_dropdown_item","_component_el_dropdown_menu","_component_el_dropdown","_component_el_tooltip","_component_el_header","_component_el_checkbox","_component_el_image","_component_el_button","_component_el_card","_component_el_pagination","_component_el_main","_component_el_container","default","onClick","args","refreshDashboard","modelValue","search","$event","size","placeholder","icon","Number","content","placement","onCommand","sort","dropdown","command","_","sortIcon","disabled","selectedFiles","length","handleBatchCopy","handleBatchDelete","handleGoToAdmin","handleLogout","paginatedTableData","item","index","key","selected","metadata","FileType","includes","src","name","autoplay","muted","loop","fit","lazy","type","handleCopy","handleDelete","FileName","background","layout","total","filteredTableData","pageSize","onCurrentChange","handlePageChange","currentPage","data","showLogoutButton","tableData","sortOption","isUploading","computed","this","filter","toLowerCase","sortedData","sortData","start","end","slice","watch","handler","newData","file","deep","newOption","localStorage","setItem","methods","location","reload","$confirm","confirmButtonText","cancelButtonText","then","fetch","method","credentials","response","ok","Promise","reject","fileIndex","findIndex","splice","updateStats","$message","success","catch","error","info","promises","map","all","results","forEach","links","document","origin","join","navigator","clipboard","writeText","copyToClipboardFallback","text","textarea","createElement","body","appendChild","style","position","clip","top","value","select","execCommand","removeChild","$router","push","window","href","page","a","b","localeCompare","TimeStamp","mounted","result","json","savedSortOption","getItem","__exports__"],"sourceRoot":""}